{"version":3,"sources":["fire.ts","PageAccount.tsx","NavBar.tsx","NewsCardGrid.tsx","PageMain.tsx","NewsCard.tsx","PageNews.tsx","ImageListed.tsx","PageGallery.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["userConveter","userFirestore","name","displayName","photoURL","snapshot","data","sex","newsConveter","author","Author","content","Content","headerImage","HeaderImage","timestamp","Timestamp","title","Title","newsId","id","likeNewsConveter","uid","provider","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","GoogleAuthProvider","auth","getAuth","db","getFirestore","AuthContext","React","createContext","getUserInFirestore","user","Promise","resolve","reject","getDoc","doc","then","value","userExists","exists","catch","reason","setUserInFirestore","setDoc","logOut","signOut","error","console","warn","AuthorizedLoaded","useContext","useState","snackOpen","setOpenSnack","Fragment","Box","sx","backgroundColor","padding","color","Stack","spacing","Avatar","variant","src","width","height","TextField","label","defaultValue","onChange","event","target","Button","onClick","currentUser","Snackbar","open","autoHideDuration","onClose","Alert","severity","AuthorizedLoading","Skeleton","Authorized","userLoaded","NotAuthorized","Typography","setPersistence","browserLocalPersistence","signInWithPopup","result","credentialFromResult","accessToken","errorCode","code","errorMessage","message","log","email","credentialFromError","logIn","Account","setUser","setUserFirestore","userFirestoreLoaded","setUserFirestoreLoaded","undefined","listener","setListener","useEffect","onAuthStateChanged","callback","onSnapshot","onUserInFirestoreUpdate","toString","MyAppBar","styled","AppBar","transition","getLocName","path","NavBar","props","state","accountMenuOpen","drawerOpen","accountCircleAnchor","drawerWidthPx","handleAccountClick","bind","handleAccountClose","handleDrawerToggle","this","setDrawerWidthCallback","setState","currentTarget","context","flexGrow","position","className","marginLeft","Toolbar","direction","Divider","orientation","flexItem","location","pathname","SwipeableDrawer","onOpen","flexShrink","boxSizing","List","ListItem","button","navigate","ListItemIcon","ListItemText","primary","a","transform","marginTop","IconButton","whiteSpace","Menu","anchorEl","MenuListProps","MenuItem","PureComponent","contextType","WithNavigate","useNavigate","useLocation","NewsCardGrid","children","Main","margin","NewsCard","media","likesLoaded","setLikesLoaded","likeGot","setLikeGot","getDocs","query","collection","docs","map","getLikesFromNews","like","Card","minWidth","CardHeader","subheader","CardMedia","component","image","alt","CardContent","CardActions","Checkbox","icon","FavoriteBorder","checkedIcon","Favorite","checked","deleteDoc","removeLikeFromNews","fromDate","Date","addLikeToNews","size","News","news","setNews","length","newsRaw","justifyContent","newsOne","toDate","toLocaleDateString","ImageListed","ImageListItem","ImageListItemBar","actionIcon","actionPosition","Gallery","App","drawerWidth","setDrawerWidth","display","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.9db85e84.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { GoogleAuthProvider, getAuth, Auth, User } from \"firebase/auth\";\r\nimport { getDatabase } from 'firebase/database';\r\nimport { doc, DocumentData, DocumentSnapshot, getDoc, getFirestore, setDoc, query, collection, onSnapshot, getDocs, limit, orderBy, Timestamp, deleteDoc } from \"firebase/firestore\";\r\nimport React from \"react\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBlqB_0nI-CGH1UI23XeveLabHwiMDXX5c\",\r\n  authDomain: \"dorogadobra-85fd2.firebaseapp.com\",\r\n  projectId: \"dorogadobra-85fd2\",\r\n  storageBucket: \"dorogadobra-85fd2.appspot.com\",\r\n  messagingSenderId: \"888417216434\",\r\n  appId: \"1:888417216434:web:57d27244768edbeea6e6ab\",\r\n  measurementId: \"G-5XSCSWLNVY\"\r\n};\r\n\r\nexport interface UserFirestore{\r\n  displayName?: string,\r\n  sex?: string,\r\n  photoURL?: string\r\n}\r\nexport interface NewsFirestore{\r\n  title?: string,\r\n  timestamp?: Timestamp\r\n  author?: string,\r\n  content?: string,\r\n  headerImage?: string,\r\n  newsId?: string\r\n}\r\nexport interface LikeNewsFirestore{\r\n  uid?: string,\r\n  timestamp?: Timestamp\r\n}\r\n\r\nconst userConveter = {\r\n  toFirestore: (userFirestore: UserFirestore) => {\r\n      return {\r\n        name: userFirestore.displayName,\r\n        photoURL: userFirestore.photoURL\r\n      };\r\n  },\r\n  fromFirestore: (snapshot: DocumentSnapshot | undefined) : UserFirestore => {\r\n    if(!snapshot) return {};\r\n\r\n    const data = snapshot.data();\r\n    return {\r\n      displayName: data?.name,\r\n      sex: data?.sex,\r\n      photoURL: data?.photoURL\r\n    };\r\n  }\r\n};\r\n\r\nconst newsConveter = {\r\n  fromFirestore: (snapshot: DocumentSnapshot | undefined) : NewsFirestore => {\r\n    if(!snapshot) return {};\r\n\r\n    const data = snapshot.data();\r\n    return {\r\n      author: data?.Author,\r\n      content: data?.Content,\r\n      headerImage: data?.HeaderImage,\r\n      timestamp: data?.Timestamp,\r\n      title: data?.Title,\r\n      newsId: snapshot?.id\r\n    };\r\n  }\r\n};\r\n\r\nconst likeNewsConveter = {\r\n  fromFirestore: (snapshot: DocumentSnapshot | undefined) : LikeNewsFirestore => {\r\n    if(!snapshot) return {};\r\n\r\n    const data = snapshot.data();\r\n    return {\r\n      uid: snapshot?.id,\r\n      timestamp: data?.Timestamp\r\n    };\r\n  }\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n// const analytics = getAnalytics(app);\r\nexport const provider = new GoogleAuthProvider();\r\nexport const auth = getAuth();\r\nexport const db = getFirestore();\r\n\r\nexport const AuthContext = React.createContext({\r\n    auth, provider, db\r\n});\r\n\r\nexport function getUserInFirestore(user: User){\r\n  return new Promise<{userFirestore: UserFirestore; userExists: boolean;}>((resolve, reject) =>\r\n    getDoc(doc(db, \"users\", user.uid))\r\n      .then((value) => resolve({\r\n        userFirestore: userConveter.fromFirestore(value),\r\n        userExists: value.exists()\r\n      }))\r\n      .catch((reason) => reject(reason))\r\n    )\r\n}\r\n\r\nexport function setUserInFirestore(user: User, userFirestore: UserFirestore){\r\n  return new Promise((resolve, reject) =>\r\n    setDoc(doc(db, \"users\", user.uid), userConveter.toFirestore(userFirestore))\r\n      .then((value) => resolve(value))\r\n    )\r\n}\r\n\r\nexport function onUserInFirestoreUpdate(user: User, callback: (userFire: UserFirestore | undefined) => void){\r\n  return onSnapshot(doc(db, \"users\", user.uid), (doc) => callback(userConveter.fromFirestore(doc)));\r\n}\r\n\r\nexport function getNews(){\r\n  return new Promise<NewsFirestore[]>((resolve, reject) => {\r\n    getDocs(query(collection(db, \"news\")))\r\n    .then((value) => {\r\n      console.log(value);\r\n      resolve(value.docs.map(newsConveter.fromFirestore))\r\n    });\r\n  });\r\n}\r\n\r\nexport function addLikeToNews(user: User, newsId: string){\r\n  setDoc(doc(db, \"news\", newsId, \"likes\", user.uid), {\r\n    Timestamp: Timestamp.fromDate(new Date())\r\n  });\r\n}\r\nexport function getLikesFromNews(user: User, newsId: string){\r\n  return new Promise<LikeNewsFirestore[]>((resolve, reject) => {\r\n    getDocs(query(collection(db, \"news\", newsId, 'likes')))\r\n    .then((value) => resolve(value.docs.map(likeNewsConveter.fromFirestore)))\r\n  });\r\n}\r\nexport function removeLikeFromNews(user: User, newsId: string){\r\n  deleteDoc(doc(db, \"news\", newsId, \"likes\", user.uid));\r\n}","import React, { useContext, useState } from \"react\"\r\nimport { Box, Button, ImageList, Rating, Typography, Skeleton, Avatar, Stack, TextField, Snackbar, Alert } from '@mui/material';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext, getUserInFirestore, onUserInFirestoreUpdate, setUserInFirestore, UserFirestore } from \"./fire\";\r\nimport { onAuthStateChanged, User, browserLocalPersistence, setPersistence, signInWithPopup, GoogleAuthProvider, signOut } from \"@firebase/auth\";\r\nimport { Unsubscribe } from \"firebase/firestore\";\r\n\r\nexport const logIn = (auth: any, provider: any) => {\r\n    setPersistence(auth, browserLocalPersistence)\r\n    .then(() => {\r\n        signInWithPopup(auth, provider)\r\n        .then((result) => {\r\n            const credential = GoogleAuthProvider.credentialFromResult(result);\r\n            const token = credential!.accessToken;\r\n            const user = result.user;\r\n        }).catch((error) => {\r\n            const errorCode = error.code;\r\n            const errorMessage = error.message;\r\n            console.log(errorCode);\r\n            console.log(errorMessage);\r\n            const email = error.email;\r\n            const credential = GoogleAuthProvider.credentialFromError(error);\r\n        });\r\n    })\r\n}\r\n\r\nexport const logOut = (auth: any) => {\r\n    signOut(auth).then(() => {}).catch((error) => {\r\n        console.warn(\"Unable to sign out!\");\r\n    }); \r\n}\r\n\r\nconst AuthorizedLoaded = ({userFirestore, ...props}: {userFirestore?: UserFirestore}) => {\r\n    const { auth, provider } = useContext(AuthContext);\r\n    const [user, setUser] = useState(userFirestore!);\r\n    const [snackOpen, setOpenSnack] = useState(false);\r\n    return <React.Fragment>\r\n        <Box sx={{\r\n            backgroundColor: '#fff',\r\n            padding: '2rem',\r\n            color: \"#000\"\r\n        }}>\r\n            <Stack spacing='1rem'>\r\n                <Avatar variant=\"square\" src={user?.photoURL} sx={{\r\n                    width: '200px',\r\n                    height: '200px'\r\n                }}/>\r\n                <TextField id=\"standard-basic\" label=\"Полное имя\" variant=\"standard\" defaultValue={user?.displayName} onChange={\r\n                        (event) => user.displayName=event.target.value\r\n                    }/>\r\n                <Button variant=\"contained\" color=\"primary\" onClick={(() => {\r\n                    setUserInFirestore(auth.currentUser!, user);\r\n                    setOpenSnack(true);\r\n                })}>\r\n                    Сохранить\r\n                </Button>\r\n                <Button variant=\"contained\" color=\"warning\" onClick={() => {\r\n                    logOut(auth);\r\n                }}>\r\n                    Выйти\r\n                </Button>\r\n            </Stack>\r\n        </Box>\r\n        <Snackbar open={snackOpen} autoHideDuration={6000} onClose={() => setOpenSnack(false)}>\r\n            <Alert severity=\"success\" onClose={() => setOpenSnack(false)} variant=\"filled\">\r\n                Данные аккаунта сохранены!\r\n            </Alert>\r\n        </Snackbar>\r\n    </React.Fragment>\r\n}\r\n\r\nconst AuthorizedLoading = ({...props}) => {\r\n    return <React.Fragment>\r\n        <Box sx={{\r\n            backgroundColor: '#fff',\r\n            padding: '2rem'\r\n        }}>\r\n            <Stack spacing='1rem'>\r\n                <Skeleton variant=\"rectangular\" width={200} height={200} />\r\n                <Skeleton variant=\"text\" />\r\n                <Skeleton variant=\"rectangular\" height={36.5} />\r\n                <Skeleton variant=\"rectangular\" height={36.5} />\r\n            </Stack>\r\n        </Box>\r\n        \r\n    </React.Fragment>\r\n}\r\n\r\nconst Authorized = ({userFirestore, userLoaded, ...props}: {userFirestore?: UserFirestore, userLoaded: boolean}) => { \r\n    return <React.Fragment>\r\n        {userLoaded ? <AuthorizedLoaded userFirestore={userFirestore}/> : <AuthorizedLoading/>}\r\n    </React.Fragment>\r\n}\r\nconst NotAuthorized = ({...props}) => {\r\n    const { auth, provider } = useContext(AuthContext); \r\n    return <React.Fragment>\r\n        <Typography variant=\"body1\">\r\n            Войдите в Google аккаунт, чтобы продолжить\r\n        </Typography>\r\n        <Button variant=\"contained\" onClick={() => {\r\n            logIn(auth, provider);\r\n        }}>\r\n            Войти\r\n        </Button>\r\n    </React.Fragment>\r\n}\r\nconst Account = ({...props}) => {\r\n    const { auth, provider } = useContext(AuthContext); \r\n    const [user, setUser] = useState(auth.currentUser);\r\n    const [userFirestore, setUserFirestore] = useState<UserFirestore | undefined>({});\r\n    const [userFirestoreLoaded, setUserFirestoreLoaded] = useState(false);\r\n    const [listener, setListener] = useState<Unsubscribe | undefined>(undefined);\r\n    React.useEffect(() => {\r\n        onAuthStateChanged(auth, (user: User | null) => {\r\n            if(user){\r\n                if(listener === undefined){\r\n                    setListener(\r\n                        onUserInFirestoreUpdate(user, (userFirestore) => {\r\n                            setUserFirestore(userFirestore);\r\n                            setUserFirestoreLoaded(true);\r\n                        })\r\n                    );\r\n                    getUserInFirestore(user)\r\n                    .then(value => {\r\n                        if (!value.userExists){\r\n                            setUserInFirestore(user, {\r\n                                displayName: user?.displayName?.toString(),\r\n                                photoURL: user?.photoURL?.toString()\r\n                            }).then(() => {\r\n                                setUser(user);\r\n                            });\r\n                        }\r\n                        else{\r\n                            setUser(user);\r\n                            setUserFirestore(value.userFirestore);\r\n                            setUserFirestoreLoaded(true);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else{\r\n                setUser(user);\r\n                setUserFirestoreLoaded(false);\r\n                if (listener)\r\n                    listener!();\r\n            }\r\n        });\r\n    }, [listener, auth]);\r\n    return <React.Fragment>\r\n        <Box sx={{padding: '1rem', color: '#fff'}}>\r\n            <Stack spacing='1.5rem'>\r\n                <Typography variant=\"h3\">\r\n                    Ваш аккаунт Дороги Добра\r\n                </Typography>\r\n                {user ? <Authorized userFirestore={userFirestore} userLoaded={userFirestoreLoaded}/> : <NotAuthorized/>}\r\n            </Stack>\r\n        </Box>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Account;","import { AppBar, Button, IconButton, List, ListItem, ListItemButton, ListItemIcon, ListItemText, Menu, MenuItem, Stack, SwipeableDrawer, Toolbar, Typography , Avatar, Skeleton} from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, {useEffect} from \"react\";\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport Account from '@mui/icons-material/AccountCircle';\r\nimport { styled } from '@mui/styles';\r\nimport StarIcon from '@mui/icons-material/Star';\r\nimport PhotoAlbumIcon from '@mui/icons-material/PhotoAlbum';\r\nimport ReceiptIcon from '@mui/icons-material/Receipt';\r\nimport KeyboardArrowRightIcon from '@mui/icons-material/KeyboardArrowRight';\r\nimport {NavigateFunction, useNavigate, useLocation, Location} from 'react-router-dom';\r\nimport Divider from '@mui/material/Divider';\r\nimport { AuthContext, getUserInFirestore, UserFirestore } from './fire';\r\nimport { logIn, logOut } from './PageAccount';\r\nimport { onAuthStateChanged, User } from \"@firebase/auth\";\r\n\r\n\r\ninterface IProps{\r\n    setDrawerWidthCallback: React.Dispatch<React.SetStateAction<string>>,\r\n    navigate?: NavigateFunction,\r\n    location?: Location\r\n};\r\ninterface IState{\r\n    accountMenuOpen: boolean,\r\n    accountCircleAnchor: null | HTMLElement,\r\n    drawerOpen: boolean,\r\n    drawerWidthPx: number,\r\n    userFirestoreLoaded: boolean,\r\n    userFirestore?: UserFirestore\r\n};\r\nconst MyAppBar = styled(AppBar)({\r\n    backgroundColor: '#fff',\r\n    color: '#000',\r\n    transition: 'margin-left 0.3s'\r\n});\r\n\r\nfunction getLocName(path: string){\r\n    switch(path){\r\n        case \"/DD\":\r\n            return \"Главная\";\r\n        case '/DD/news':\r\n            return 'Новости';\r\n        case '/DD/gallery':\r\n            return \"Галерея\"\r\n        case '/DD/account':\r\n            return 'Аккаунт';\r\n    }\r\n}\r\n\r\nclass NavBar extends React.PureComponent<IProps, IState>{\r\n    static contextType = AuthContext;\r\n    constructor(props: IProps){\r\n        super(props);\r\n        this.state = {\r\n            accountMenuOpen: false,\r\n            drawerOpen: false,\r\n            accountCircleAnchor: null,\r\n            drawerWidthPx: 55,\r\n            userFirestoreLoaded: false\r\n        }\r\n        this.handleAccountClick = this.handleAccountClick.bind(this);\r\n        this.handleAccountClose = this.handleAccountClose.bind(this);\r\n        this.handleDrawerToggle = this.handleDrawerToggle.bind(this);\r\n    }\r\n    handleDrawerToggle(){\r\n        this.props.setDrawerWidthCallback((this.state.drawerOpen ? 55 : 240)+ 'px');\r\n        this.setState({\r\n            drawerOpen: !this.state.drawerOpen,\r\n            drawerWidthPx: (this.state.drawerOpen ? 55 : 240)\r\n        });\r\n    }\r\n    handleAccountClick(event: React.MouseEvent<HTMLButtonElement> | React.MouseEvent<HTMLDivElement>){\r\n        this.setState({\r\n            accountCircleAnchor: event.currentTarget,\r\n            accountMenuOpen: true\r\n        });\r\n    }\r\n    handleAccountClose(){\r\n        this.setState({\r\n            accountCircleAnchor: null,\r\n            accountMenuOpen: false\r\n        });\r\n    }\r\n    componentDidMount(){\r\n        onAuthStateChanged(this.context.auth, (user: User | null) => {\r\n            if(user){\r\n                getUserInFirestore(user)\r\n                    .then(value => {\r\n                        console.log('sus');\r\n                        this.setState({\r\n                            userFirestore: value.userFirestore,\r\n                            userFirestoreLoaded: true\r\n                        })\r\n                    });\r\n            }\r\n        });\r\n    }\r\n    render(){\r\n        return <Box sx={{ flexGrow: 1 }}>\r\n            <MyAppBar position=\"static\" className='root' sx={{\r\n                marginLeft: this.state.drawerWidthPx + 'px'\r\n            }}>\r\n                <Toolbar>\r\n                    <Stack spacing={2} direction='row'>\r\n                        <Typography variant=\"h6\">\r\n                            Дорога добра\r\n                        </Typography>\r\n                        <Divider orientation=\"vertical\" flexItem variant='middle'/>\r\n                        <Typography variant=\"h6\">\r\n                            {getLocName(this.props.location!.pathname)}\r\n                        </Typography>\r\n                    </Stack>\r\n                </Toolbar>\r\n            </MyAppBar>\r\n            <SwipeableDrawer\r\n                open={this.state.drawerOpen}\r\n                onClose={this.handleDrawerToggle}\r\n                onOpen={this.handleDrawerToggle}\r\n                variant=\"permanent\"\r\n                sx={{\r\n                    flexShrink: 0,\r\n                    ...({\r\n                        '& .MuiDrawer-paper': {\r\n                            boxSizing: 'border-box',\r\n                            width: this.state.drawerWidthPx + 'px',\r\n                            transition: 'width 0.3s'\r\n                        }\r\n                    })\r\n                }}\r\n            >\r\n                <List>\r\n                    <ListItem button onClick={() => this.props.navigate!('/DD')}>\r\n                        <ListItemIcon>\r\n                            <StarIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={'Главная'} />\r\n                    </ListItem>\r\n                    <ListItem button onClick={() => this.props.navigate!('/DD/news')}>\r\n                        <ListItemIcon>\r\n                            <ReceiptIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={'Новости'} />\r\n                    </ListItem>\r\n                    <ListItem button onClick={() => this.props.navigate!('/DD/gallery')}>\r\n                        <ListItemIcon>\r\n                            <PhotoAlbumIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={'Галерея'} />\r\n                    </ListItem>\r\n                    <ListItem button onClick={a => this.handleDrawerToggle()}>\r\n                        <ListItemIcon>\r\n                            <KeyboardArrowRightIcon sx={{\r\n                                transform: this.state.drawerOpen ? 'rotate(0.5turn)' : 'inherit',\r\n                                transition: 'transform 0.3s'\r\n                            }}/>\r\n                        </ListItemIcon>\r\n                    </ListItem>\r\n                </List>\r\n                <List sx={{marginTop: 'auto'}}>\r\n                    <ListItem>\r\n                        <Stack direction='row' spacing='20px'>\r\n                            <IconButton \r\n                                sx={{\r\n                                    padding: '0px'\r\n                                }}\r\n                                onClick={this.handleAccountClick}>\r\n                                <Account/>\r\n                            </IconButton>\r\n                            {this.context.auth.currentUser !== null ? \r\n                                (this.state.userFirestoreLoaded ? <Typography sx={{whiteSpace: 'nowrap'}}>{this.state.userFirestore!.displayName}</Typography> : <Skeleton variant=\"text\" />)\r\n                            :\r\n                            <Button variant=\"contained\" onClick={() => {\r\n                                this.handleAccountClose();\r\n                                this.props.navigate!(\"/DD/account\");\r\n                            }}>\r\n                                Войти\r\n                            </Button>}\r\n                        </Stack>\r\n                    </ListItem>\r\n                </List>  \r\n                <Menu\r\n                    id=\"basic-menu\"\r\n                    open={this.state.accountMenuOpen}\r\n                    onClose={this.handleAccountClose}\r\n                    anchorEl={this.state.accountCircleAnchor}\r\n                    MenuListProps={{\r\n                    'aria-labelledby': 'basic-button',\r\n                    }}\r\n                >\r\n                    <MenuItem onClick={() => {\r\n                        this.handleAccountClose();\r\n                        this.props.navigate!(\"/DD/account\");\r\n                    }}>Ваш аккаунт</MenuItem>\r\n                    {this.context.auth.currentUser !== null ? \r\n                    <React.Fragment>\r\n                        <MenuItem onClick={() => {\r\n                            logOut(this.context.auth);\r\n                            this.handleAccountClose();\r\n                        }}>Выйти</MenuItem>\r\n                    </React.Fragment>\r\n                    :\r\n                    <React.Fragment>\r\n                        <MenuItem onClick={() => {\r\n                            this.handleAccountClose();\r\n                            this.props.navigate!(\"/DD/account\");\r\n                        }}>Войти</MenuItem>\r\n                    </React.Fragment>\r\n                    }\r\n                </Menu>\r\n            </SwipeableDrawer>\r\n        </Box>;\r\n    }\r\n}\r\n\r\nfunction WithNavigate(props: IProps) {\r\n    let navigate = useNavigate();\r\n    let location = useLocation();\r\n    return <NavBar {...props} navigate={navigate} location={location} />\r\n}\r\n\r\nexport default WithNavigate;\r\n","import { Grid } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport './newsCardGrid.css';\r\n\r\nexport default function NewsCardGrid({\r\n    ...props\r\n}){\r\n    return <div className=\"news-card-grid\">\r\n        {props.children}\r\n    </div>\r\n}","import React from \"react\"\r\nimport {NewsCard} from \"./NewsCard\";\r\nimport NewsCardGrid from \"./NewsCardGrid\";\r\nimport { Box, Button, ImageList, Rating, Typography } from '@mui/material';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Main = ({...props}) => {\r\n    let navigate = useNavigate();\r\n    return <React.Fragment>\r\n        <Box sx={{margin: '2rem', color: '#fff'}}>\r\n            <Typography variant=\"h3\">\r\n            Новости\r\n            </Typography>\r\n            <Typography variant='subtitle1'>\r\n            Смотрите наши последние новости\r\n            </Typography>\r\n            <Button onClick={() => navigate('/news')} variant=\"contained\">\r\n                Все новости\r\n            </Button>\r\n        </Box>\r\n        <NewsCardGrid>\r\n        </NewsCardGrid>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Main;","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Avatar, Box, Button, Card, CardActions, CardContent, CardHeader, CardMedia, Checkbox, IconButton, Rating, Skeleton, Typography } from '@mui/material';\r\nimport ReadMoreIcon from '@mui/icons-material/ReadMore';\r\nimport { FavoriteBorder, Favorite } from \"@mui/icons-material\";\r\nimport { addLikeToNews, AuthContext, getLikesFromNews, removeLikeFromNews } from \"./fire\";\r\n\r\ninterface ICardProps{\r\n    title?: string,\r\n    media?: string,\r\n    content?: string,\r\n    timestamp?: string,\r\n    newsId?: string\r\n}\r\nexport const NewsCard = ({title, media, content, timestamp, newsId, ...props}: ICardProps) => {\r\n    const { auth, provider } = useContext(AuthContext); \r\n    const [ likesLoaded, setLikesLoaded ] = useState(false);\r\n    const [ likeGot, setLikeGot ] = useState(false);\r\n    useEffect(() => {\r\n        if(!likesLoaded && auth.currentUser){\r\n            getLikesFromNews(auth.currentUser!, newsId!)\r\n                .then((value) => {\r\n                    for(let like of value){\r\n                        console.log(like);\r\n                        if(like.uid === auth.currentUser!.uid){\r\n                            setLikeGot(true);\r\n                            console.log(\"Like found\");\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n                setLikesLoaded(true);\r\n        }\r\n    }, [setLikesLoaded, setLikeGot, auth, likesLoaded, newsId]);\r\n    return <Card sx={{ minWidth: 150 }}>\r\n            <CardHeader\r\n                // avatar={\r\n                //     <Avatar src='https://images.unsplash.com/photo-1453728013993-6d66e9c9123a?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8dmlld3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80'/>\r\n                // }\r\n                title={title}\r\n                subheader={timestamp}\r\n            />\r\n            <CardMedia\r\n                component=\"img\"\r\n                height=\"194\"\r\n                image={media}\r\n                alt={title}\r\n            />\r\n            <CardContent>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {content}\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions>\r\n                {likesLoaded ?\r\n                <Checkbox\r\n                    icon={<FavoriteBorder/>}\r\n                    checkedIcon={<Favorite/>}\r\n                    checked={likeGot}\r\n                    onClick={(event) => {\r\n                        if (auth.currentUser){\r\n                            console.log(likeGot);\r\n                            if(!likeGot){\r\n                                setLikeGot(true);\r\n                                addLikeToNews(auth.currentUser!, newsId!);\r\n                            }\r\n                            else{\r\n                                setLikeGot(false);\r\n                                removeLikeFromNews(auth.currentUser!, newsId!);\r\n                            }\r\n                        }\r\n                    }}  \r\n                />\r\n                :\r\n                <Skeleton variant='rectangular' width={50} height={50}/>\r\n                }\r\n                {/* <IconButton sx={{marginLeft: 'auto'}}>\r\n                    <ReadMoreIcon/>\r\n                </IconButton> */}\r\n                <Button size=\"small\" sx={{marginLeft: 'auto'}}>Читать далее</Button>\r\n            </CardActions>\r\n        </Card>\r\n}\r\n\r\n// export default function NewsCard(){\r\n//     return <Box sx={{ minWidth: 275, maxWidth: 'unset', marginLeft: '0.5rem' }}>\r\n//         <Card>{card}</Card>\r\n//     </Box>\r\n// }","import React, {useState, useEffect} from \"react\"\r\nimport {NewsCard} from \"./NewsCard\";\r\nimport NewsCardGrid from \"./NewsCardGrid\";\r\nimport { Box, Grid, ImageList, Rating, Skeleton, Typography } from '@mui/material';\r\nimport { getNews, NewsFirestore } from \"./fire\";\r\n\r\nconst News = ({...props}) => {\r\n    const [news, setNews] = useState<NewsFirestore[]>([]);\r\n    useEffect(() => {\r\n        if(news.length === 0)\r\n            getNews()\r\n                .then((newsRaw) => {\r\n                    console.log(newsRaw);\r\n                    setNews(newsRaw);\r\n                });\r\n    });\r\n    return <React.Fragment>\r\n        <Box sx={{\r\n            color: '#fff',\r\n            justifyContent: 'space-around',\r\n            padding: '1rem'\r\n        }}>\r\n            <Typography variant='h3'>\r\n                Новости Дороги Добра\r\n            </Typography>\r\n            {news.length > 0 ? \r\n            <div className=\"news-grid\">\r\n                {news.map((newsOne) => \r\n                    <NewsCard content={newsOne.content} media={newsOne.headerImage} timestamp={'Опубликовано ' + newsOne.timestamp?.toDate().toLocaleDateString()} title={newsOne.title} newsId={newsOne.newsId}/>)\r\n                }\r\n            </div>\r\n            :\r\n            <div className=\"news-grid\">\r\n                <Skeleton variant=\"rectangular\" width={275} height={433}/>\r\n                <Skeleton variant=\"rectangular\" width={275} height={433}/>\r\n                <Skeleton variant=\"rectangular\" width={275} height={433}/>\r\n            </div>\r\n            }\r\n            \r\n        </Box>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default News;","import { Checkbox, ImageListItem, ImageListItemBar } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport StarIcon from '@mui/icons-material/Star';\r\nimport StarBorderIcon from '@mui/icons-material/StarBorder';\r\n\r\nexport default function ImageListed(){\r\n    return <ImageListItem>\r\n        <img src='https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885_1280.jpg'/>\r\n        <ImageListItemBar\r\n            title=\"Sunset\"\r\n            position=\"top\"\r\n            actionIcon={\r\n                <Checkbox\r\n                    icon={<StarBorderIcon sx={{color: '#fff'}}/>}\r\n                    checkedIcon={<StarIcon sx={{color: '#fff'}}/>}\r\n                />\r\n            }\r\n            actionPosition=\"left\"\r\n        />\r\n    </ImageListItem>\r\n}","import React from \"react\"\r\nimport { Box, Grid, ImageList, Rating, Typography } from '@mui/material';\r\nimport ImageListed from './ImageListed';\r\n\r\nconst Gallery = ({...props}) => {\r\n    return <React.Fragment>\r\n        <Box sx={{\r\n            color: '#fff',\r\n            justifyContent: 'space-around',\r\n            padding: '1rem'\r\n        }}>\r\n            <ImageListed/>\r\n        </Box>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Gallery;","import logo from './logo.svg';\nimport './App.css';\nimport Checkbox from '@mui/material/Checkbox';\nimport FavoriteBorder from '@mui/icons-material/FavoriteBorder';\nimport Favorite from '@mui/icons-material/Favorite';\nimport React from 'react';\nimport { Box, ImageList, Rating, Typography } from '@mui/material';\nimport NavBar from './NavBar';\nimport { Link, Route, Routes } from \"react-router-dom\";\nimport Main from './PageMain';\nimport News from './PageNews';\nimport Gallery from './PageGallery';\nimport Account from './PageAccount';\n\nfunction App() {\n  const [drawerWidth, setDrawerWidth] = React.useState('55px');\n  return (\n    <div className=\"App\">\n      <NavBar setDrawerWidthCallback={setDrawerWidth}/>\n      <Box sx={{display: 'flex', marginTop: '2rem', marginLeft: drawerWidth, transition: 'margin-left 0.3s'}}>\n        <Routes>\n          <Route path=\"/DD\" element={<Main/>}/>\n          <Route path=\"/DD/news\" element={<News/>}/>\n          <Route path=\"/DD/gallery\" element={<Gallery/>}/>\n          <Route path=\"/DD/account\" element={<Account/>}/>\n        </Routes>\n      </Box>\n      {/* <ImageList>\n        <ImageListed/>\n        <ImageListed/>\n        <ImageListed/>\n      </ImageList> */}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { AuthContext, auth, provider, db} from './fire';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContext.Provider value={{\n      auth, provider, db\n    }}>\n      <Router>\n        <App />\n      </Router>\n    </AuthContext.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}